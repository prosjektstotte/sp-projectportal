<script type="text/javascript" src="../../../SiteAssets/gt/js/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="../../../SiteAssets/gt/js/gt.generics.js?rev=20140825"></script>
<script type="text/javascript" src="../../../SiteAssets/gt/js/gt.project.js?rev=20140911"></script>
<link rel="stylesheet" type="text/css" href="../../../SiteAssets/gt/css/gt.style.css?rev=20140911">

<script type="text/javascript" language="javascript">
    function PreSaveAction() {
        GT.jQuery('.ms-formvalidation').remove();
        var status = GT.jQuery('#onetIDListForm table.ms-formtable > tbody > tr select[title="Status"] option:selected');
        if (status.text().toLowerCase() === GT.Locale["STATUS_IGNORED"].toLowerCase()) {
            var comment = GT.jQuery(String.format('#onetIDListForm table.ms-formtable > tbody > tr textarea[title="{0}"]', GT.Locale["COMMENT"]));
            if (comment.val() === '') {
                comment.after('<div class="ms-formvalidation">You must enter a comment to explain why the checklist entry is ignored</div>');
                return false;
            }
        }
        return true;
    }
</script>