<script type="text/javascript" src="../../../SiteAssets/gt/js/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="../../../SiteAssets/gt/js/gt.generics.js?rev=20140825"></script>
<script type="text/javascript" src="../../../SiteAssets/gt/js/gt.project.js?rev=20140911"></script>
<link rel="stylesheet" type="text/css" href="../../../SiteAssets/gt/css/gt.style.css?rev=20140911">

<script type="text/javascript" language="javascript">
    (function () {
        var jQuery = GT.jQuery;

        jQuery(document).ready(function () {
            var editMode = getParameterByName('EditMode');
            if (editMode != '' && editMode != undefined) {
                if (editMode == "Project") {
                    jQuery('#onetIDListForm .ms-webpart-chrome.ms-webpart-chrome-vertical.ms-webpart-chrome-fullWidth > div > table > tbody > tr > td> table:nth-child(2)').hide();
                    //Hide content type picker and name and title field (as it's applicable for the page, not the web
                    jQuery('#onetIDListForm input[id^="FileLeafRef"]').closest('tr').hide();
                    jQuery('#onetIDListForm select[title="Content Type"]').closest('tr').hide();
                    jQuery('#onetIDListForm input[title="Title"]').closest('tr').hide();
                }
                else if (editMode == "PhaseOnly") {
                    jQuery('#onetIDListForm .ms-webpart-chrome.ms-webpart-chrome-vertical.ms-webpart-chrome-fullWidth > div > table > tbody > tr > td> table:nth-child(2)').hide();
                    // Hide all rows but the phase picker
                    jQuery('#onetIDListForm table.ms-formtable > tbody > tr').hide();
                    jQuery('#onetIDListForm table.ms-formtoolbar td.ms-toolbar:nth-of-type(1)').hide();
                    jQuery('#onetIDListForm div[id^="GtProjectPhase"]').closest('tr').show();
                    GT.Project.PhaseForm.CheckList.render();
                }
            }
        });
    })();
</script>